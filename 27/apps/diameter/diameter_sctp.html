<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.32.2">
    <meta name="project" content="diameter v2.4">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=27&q=">
<meta name="major-vsn" content="27">
    <title>diameter_sctp — diameter v2.4</title>
    <link rel="stylesheet" href="dist/html-erlang-EBZIIHAS.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-9E4925B5.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-BHYOTRCH.js"></script>


  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="diameter" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
diameter
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.4
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of diameter</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/diameter/src/transport/diameter_sctp.erl#L21" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">diameter_sctp</span> 
    <small class="app-vsn" translate="no">(diameter v2.4)</small>

  </h1>


    <section id="moduledoc">
<p>Diameter transport over SCTP.</p><p>This module implements diameter transport over SCTP using <a href="../../apps/kernel/gen_sctp.html"><code class="inline">gen_sctp</code></a>. It can
be specified as the value of a transport_module option to
<a href="diameter.html#add_transport/2"><code class="inline">diameter:add_transport/2</code></a> and implements the behaviour documented in
<a href="diameter_transport.html"><code class="inline">diameter_transport</code></a>.</p><p><a href="" id="start"></a></p><h2 id="module-see-also" class="section-heading">
  <a href="#module-see-also" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">SEE ALSO</span>
</h2>
<p><a href="diameter.html"><code class="inline">diameter</code></a>, <a href="diameter_transport.html"><code class="inline">diameter_transport</code></a>, <a href="../../apps/kernel/gen_sctp.html"><code class="inline">gen_sctp</code></a>, <a href="../../apps/kernel/inet.html"><code class="inline">inet</code></a></p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:connect_option/0" data-no-tooltip translate="no">connect_option()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:listen_option/0" data-no-tooltip translate="no">listen_option()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:match/0" data-no-tooltip translate="no">match()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option/0" data-no-tooltip translate="no">option()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/3" data-no-tooltip translate="no">start(T, Svc, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>start({Type, Ref}, Svc, [Opt]) -&gt; {ok, Pid, [LAddr]} | {error, Reason}</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:connect_option/0">

  <div class="detail-header">
    <a href="#t:connect_option/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">connect_option()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/diameter/src/transport/diameter_sctp.erl#L81" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> connect_option() :: {raddr, <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>()} | {rport, <a href="../../apps/kernel/inet.html#t:port_number/0">inet:port_number</a>()} | <a href="#t:option/0">option</a>() | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:listen_option/0">

  <div class="detail-header">
    <a href="#t:listen_option/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">listen_option()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/diameter/src/transport/diameter_sctp.erl#L90" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> listen_option() :: {accept, <a href="#t:match/0">match</a>()} | <a href="#t:option/0">option</a>() | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:match/0">

  <div class="detail-header">
    <a href="#t:match/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">match()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/diameter/src/transport/diameter_sctp.erl#L86" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(not exported)</span>

      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> match() :: <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../apps/erts/erlang.html#t:string/0">string</a>() | [<a href="#t:match/0">match</a>()].</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:option/0">

  <div class="detail-header">
    <a href="#t:option/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">option()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/diameter/src/transport/diameter_sctp.erl#L94" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(not exported)</span>

      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option() ::
          {sender, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          sender |
          {packet, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() | raw} |
          {message_cb, false | <a href="diameter.html#t:eval/0">diameter:eval</a>()}.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="start/3">

  <div class="detail-header">
    <a href="#start/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start(T, Svc, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/diameter/src/transport/diameter_sctp.erl#L229" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start({accept, Ref},
            #diameter_service{pid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), capabilities :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), applications :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()},
            [<a href="#t:listen_option/0">listen_option</a>()]) ->
               {ok, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(), [<a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>()]}
               when Ref :: <a href="diameter.html#t:transport_ref/0">diameter:transport_ref</a>();
           ({connect, Ref},
            #diameter_service{pid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), capabilities :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), applications :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()},
            [<a href="#t:connect_option/0">connect_option</a>()]) ->
               {ok, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(), [<a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>()]}
               when Ref :: <a href="diameter.html#t:transport_ref/0">diameter:transport_ref</a>().</pre>

      </div>

<p>start({Type, Ref}, Svc, [Opt]) -&gt; {ok, Pid, [LAddr]} | {error, Reason}</p><p>The start function required by <a href="diameter_transport.html"><code class="inline">diameter_transport</code></a>.</p><p>Options <code class="inline">raddr</code> and <code class="inline">rport</code> specify the remote address and port for a connecting
transport and not valid for a listening transport: the former is required while
latter defaults to 3868 if unspecified. Multiple <code class="inline">raddr</code> options can be
specified, in which case the connecting transport in question attempts each in
sequence until an association is established.</p><p>Option <code class="inline">accept</code> specifies remote addresses for a listening transport and is not
valid for a connecting transport. If specified, a remote address that does not
match one of the specified addresses causes the association to be aborted.
Multiple <code class="inline">accept</code> options can be specified. A string-valued <code class="inline">Match</code> that does
not parse as an address is interpreted as a regular expression.</p><p>Option <code class="inline">unordered</code> specifies whether or not to use unordered delivery, integer
<code class="inline">N</code> being equivalent to <code class="inline">N =&lt; OS</code>, where <code class="inline">OS</code> is the number of outbound streams
negotiated on the association in question. Regardless of configuration, sending
is ordered on stream 0 until reception of a second incoming message, to ensure
that a peer receives capabilities exchange messages before any other. Defaults
to <code class="inline">false</code>.</p><p>Option <code class="inline">packet</code> determines how/if an incoming message is packaged into a
diameter_packet record. If <code class="inline">false</code> then messages are received as binary(). If
<code class="inline">true</code> then as a record with the binary() message in the <code class="inline">bin</code> field and a
<code class="inline">{stream, Id}</code> tuple in the <code class="inline">transport_data</code> field, where <code class="inline">Id</code> is the identifier
of the inbound stream the message was received on. If <code class="inline">raw</code> then as a record
with the received ancillary sctp_sndrcvinfo record in the <code class="inline">transport_data</code>
field. Defaults to <code class="inline">true</code>.</p><p>Options <code class="inline">message_cb</code> and <code class="inline">sender</code> have semantics identical to those documented
in <a href="diameter_tcp.html#sender">diameter_tcp(3)</a>, but with the message argument to
a <code class="inline">recv</code> callback being as directed by the <code class="inline">packet</code> option.</p><p>An <code class="inline">{outstream, Id}</code> tuple in the <code class="inline">transport_data</code> field of a outgoing
diameter_packet record sets the outbound stream on which the message is sent,
modulo the negotiated number of outbound streams. Any other value causes
successive such sends to cycle though all outbound streams.</p><p>Remaining options are any accepted by <a href="../../apps/kernel/gen_sctp.html#open/1"><code class="inline">gen_sctp:open/1</code></a>, with the exception of
options <code class="inline">mode</code>, <code class="inline">binary</code>, <code class="inline">list</code>, <code class="inline">active</code> and <code class="inline">sctp_events</code>. Note that options
<code class="inline">ip</code> and <code class="inline">port</code> specify the local address and port respectively.</p><p>Multiple <code class="inline">ip</code> options can be specified for a multihomed peer. If none are
specified then the values of <code class="inline">Host-IP-Address</code> in the <code class="inline">diameter_service</code> record
are used. Option <code class="inline">port</code> defaults to 3868 for a listening transport and 0 for a
connecting transport.</p><blockquote><h4 class="warning">Warning</h4><p>An small receive buffer may result in a peer having to resend incoming
messages: set the <a href="../../apps/kernel/inet.html"><code class="inline">inet</code></a> option <code class="inline">recbuf</code> to increase the buffer size.</p><p>An small send buffer may result in outgoing messages being discarded: set the
<a href="../../apps/kernel/inet.html"><code class="inline">inet</code></a> option <code class="inline">sndbuf</code> to increase the buffer size.</p></blockquote>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="diameter.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.32.2) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2023 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>

<script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({
      startOnLoad: false,
      theme: document.body.className.includes("dark") ? "dark" : "default"
    });
    let id = 0;
    for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
        graphEl.innerHTML = svg;
        bindFunctions?.(graphEl);
        preEl.insertAdjacentElement("afterend", graphEl);
        preEl.remove();
      });
    }
  });
</script>

  </body>
</html>
