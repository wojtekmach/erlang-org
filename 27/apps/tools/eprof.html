<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.32.2">
    <meta name="project" content="tools v4.0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=27&q=">
<meta name="major-vsn" content="27">
    <title>eprof — tools v4.0</title>
    <link rel="stylesheet" href="dist/html-erlang-EBZIIHAS.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-7275BB77.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-BHYOTRCH.js"></script>


  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="tools" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
tools
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v4.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of tools</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L24" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">eprof</span> 
    <small class="app-vsn" translate="no">(tools v4.0)</small>

  </h1>


    <section id="moduledoc">
<p>A Time Profiling Tool for Erlang</p><p>The module <code class="inline">eprof</code> provides a set of functions for time profiling of Erlang
programs to find out how the execution time is used. The profiling is done using
the Erlang trace BIFs. Tracing of local function calls for a specified set of
processes is enabled when profiling is begun, and disabled when profiling is
stopped.</p><p>When using Eprof, expect a slowdown in program execution.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:analyze_type/0" data-no-tooltip translate="no">analyze_type()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:trace_pattern_mfa/0" data-no-tooltip translate="no">trace_pattern_mfa()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#analyze/0" data-no-tooltip translate="no">analyze()</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#analyze/2"><code class="inline">analyze(procs, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#analyze/1" data-no-tooltip translate="no">analyze(TypeOpts)</a>

      </div>

        <div class="summary-synopsis"><p>If <code class="inline">TypeOpts</code> is an atom, it is assumed to be a module name, and this
call is equivalent to <a href="#analyze/2"><code class="inline">analyze(TypeOpts, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#analyze/2" data-no-tooltip translate="no">analyze(Type, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Call this function when profiling has been stopped to display the results.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#log/1" data-no-tooltip translate="no">log(File)</a>

      </div>

        <div class="summary-synopsis"><p>Call this function to ensure that the results displayed by
<a href="#analyze/0"><code class="inline">analyze/0,1,2</code></a> are printed to the file <code class="inline">File</code> as well as to the
screen.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/1" data-no-tooltip translate="no">profile(FunRootset)</a>

      </div>

        <div class="summary-synopsis"><p>If <code class="inline">FunRootset</code> is a fun, this call is equivalent to
<a href="#profile/2"><code class="inline">profile([], FunRootset)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/2" data-no-tooltip translate="no">profile(Arg1, Arg2)</a>

      </div>

        <div class="summary-synopsis"><p>If <code class="inline">Arg1</code> is a fun and <code class="inline">Arg2</code> is list, this call is equivalent to
<a href="#profile/4"><code class="inline">profile([], Arg1, {'_','_','_'}, Arg2)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/3" data-no-tooltip translate="no">profile(Rootset, Fun, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#profile/4"><code class="inline">profile(Rootset, Fun, Pattern, [{set_on_spawn, true}])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/4" data-no-tooltip translate="no">profile(Rootset, Arg1, Arg2, Arg3)</a>

      </div>

        <div class="summary-synopsis"><p>This function spawns a process that applies a fun or an an function,
and then starts profiling for the spawned proceses as well as the
processes in <code class="inline">Rootset</code> (and any new processes spawned from them).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/5" data-no-tooltip translate="no">profile(Rootset, Module, Function, Args, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#profile/6"><code class="inline">profile(Rootset, Module, Function, Args, Pattern, [{set_on_spawn, true}])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/6" data-no-tooltip translate="no">profile(Rootset, Module, Function, Args, Pattern, Options)</a>

      </div>

        <div class="summary-synopsis"><p>This function spawns a process <code class="inline">P</code> that <a href="../../apps/erts/erlang.html#apply/3"><code class="inline">apply(Module, Function, Args)</code></a>, and then starts profiling for <code class="inline">P</code> and the
processes in <code class="inline">Rootset</code> (and any new processes spawned from them).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/0" data-no-tooltip translate="no">start()</a>

      </div>

        <div class="summary-synopsis"><p>Starts the Eprof server which holds the internal state of the collected data.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_profiling/1" data-no-tooltip translate="no">start_profiling(Rootset)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#start_profiling/2"><code class="inline">start_profiling(Rootset, {'_', '_', '_'})</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_profiling/2" data-no-tooltip translate="no">start_profiling(Rootset, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#start_profiling/3"><code class="inline">start_profiling(Rootset, Pattern, {'_', '_', '_'})</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_profiling/3" data-no-tooltip translate="no">start_profiling(Rootset, Pattern, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Starts profiling for the processes in <code class="inline">Rootset</code> (and any new processes spawned
from them).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop/0" data-no-tooltip translate="no">stop()</a>

      </div>

        <div class="summary-synopsis"><p>Stops the Eprof server.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop_profiling/0" data-no-tooltip translate="no">stop_profiling()</a>

      </div>

        <div class="summary-synopsis"><p>Stops profiling started with <a href="#start_profiling/1"><code class="inline">start_profiling/1</code></a> or <a href="#profile/1"><code class="inline">profile/1</code></a>.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:analyze_type/0">

  <div class="detail-header">
    <a href="#t:analyze_type/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">analyze_type()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L105" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(not exported)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> analyze_type() :: procs | total.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:trace_pattern_mfa/0">

  <div class="detail-header">
    <a href="#t:trace_pattern_mfa/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">trace_pattern_mfa()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L196" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(not exported)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> trace_pattern_mfa() :: {<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), <a href="../../apps/erts/erlang.html#t:arity/0">arity</a>() | '_'}.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="analyze/0">

  <div class="detail-header">
    <a href="#analyze/0" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">analyze()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L102" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> analyze() -> ok | nothing_to_analyze.</pre>

      </div>

<p>Equivalent to <a href="#analyze/2"><code class="inline">analyze(procs, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="analyze/1">

  <div class="detail-header">
    <a href="#analyze/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">analyze(TypeOpts)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L118" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> analyze(TypeOpts) -> ok | nothing_to_analyze when TypeOpts :: <a href="#t:analyze_type/0">analyze_type</a>().</pre>

      </div>

<p>If <code class="inline">TypeOpts</code> is an atom, it is assumed to be a module name, and this
call is equivalent to <a href="#analyze/2"><code class="inline">analyze(TypeOpts, [])</code></a>.</p><p>Otherwise, if <code class="inline">TypeOpts</code> is a list, it assumed to be a list of options, and this
call is equivalent to <a href="#analyze/2"><code class="inline">analyze(procs, TypeOpts)</code></a>.</p>
  </section>
</section>
<section class="detail" id="analyze/2">

  <div class="detail-header">
    <a href="#analyze/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">analyze(Type, Options)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L143" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> analyze(Type, Options) -> ok | nothing_to_analyze
                 when
                     Type :: <a href="#t:analyze_type/0">analyze_type</a>(),
                     Options :: [Option],
                     Option :: {filter, Filter} | {sort, Sort},
                     Filter :: [{calls, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} | {time, <a href="../../apps/erts/erlang.html#t:float/0">float</a>()}],
                     Sort :: time | calls | mfa.</pre>

      </div>

<p>Call this function when profiling has been stopped to display the results.</p><p>If <code class="inline">Type</code> is <code class="inline">procs</code>, the time spent in each function is shown separately
for each profiled process.</p><p>If <code class="inline">Type</code> is <code class="inline">total</code>, the time spent in each function is shown combined
for each profiled process.</p><p>Time is shown as percentage of total time and as absolute time in micro seconds.</p>
  </section>
</section>
<section class="detail" id="log/1">

  <div class="detail-header">
    <a href="#log/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">log(File)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L324" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> log(File) -> ok when File :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>().</pre>

      </div>

<p>Call this function to ensure that the results displayed by
<a href="#analyze/0"><code class="inline">analyze/0,1,2</code></a> are printed to the file <code class="inline">File</code> as well as to the
screen.</p>
  </section>
</section>
<section class="detail" id="profile/1">

  <div class="detail-header">
    <a href="#profile/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile(FunRootset)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L164" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Fun) -> {ok, Value} | {error, Reason}
                 when Fun :: fun(() -> <a href="../../apps/erts/erlang.html#t:term/0">term</a>()), Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>();
             (Rootset) -> profiling | {error, Reason} when Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()], Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>If <code class="inline">FunRootset</code> is a fun, this call is equivalent to
<a href="#profile/2"><code class="inline">profile([], FunRootset)</code></a>.</p><p>If <code class="inline">FunRootset</code> is a list, it is assumed to be a <code class="inline">Rootset</code>, and this
call is equivalent to <a href="#start_profiling/1"><code class="inline">start_profiling(Rootset)</code></a>.</p>
  </section>
</section>
<section class="detail" id="profile/2">

  <div class="detail-header">
    <a href="#profile/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile(Arg1, Arg2)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L190" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Fun, Options) -> {ok, Value} | {error, Reason}
                 when
                     Fun :: fun(() -> <a href="../../apps/erts/erlang.html#t:term/0">term</a>()),
                     Options :: [set_on_spawn | {set_on_spawn, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}],
                     Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>();
             (Rootset, Fun) -> {ok, Value} | {error, Reason}
                 when
                     Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                     Fun :: fun(() -> <a href="../../apps/erts/erlang.html#t:term/0">term</a>()),
                     Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>If <code class="inline">Arg1</code> is a fun and <code class="inline">Arg2</code> is list, this call is equivalent to
<a href="#profile/4"><code class="inline">profile([], Arg1, {'_','_','_'}, Arg2)</code></a>.</p><p>If <code class="inline">Arg1</code> is a list and <code class="inline">Arg2</code> is a fun, this call is equivalent to
<a href="#profile/4"><code class="inline">profile(Arg1, Arg2, {'_','_','_'}, Arg1)</code></a>.</p>
  </section>
</section>
<section class="detail" id="profile/3">

  <div class="detail-header">
    <a href="#profile/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile(Rootset, Fun, Pattern)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L207" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Fun, Pattern) -> {ok, Value} | {error, Reason}
                 when
                     Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                     Fun :: fun(() -> <a href="../../apps/erts/erlang.html#t:term/0">term</a>()),
                     Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                     Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#profile/4"><code class="inline">profile(Rootset, Fun, Pattern, [{set_on_spawn, true}])</code></a>.</p>
  </section>
</section>
<section class="detail" id="profile/4">

  <div class="detail-header">
    <a href="#profile/4" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile(Rootset, Arg1, Arg2, Arg3)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L246" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Module, Function, Args) -> {ok, Value} | {error, Reason}
                 when
                     Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                     Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
                     Function :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                     Args :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()],
                     Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>();
             (Rootset, Fun, Pattern, Options) -> {ok, Value} | {error, Reason}
                 when
                     Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                     Fun :: fun(() -> <a href="../../apps/erts/erlang.html#t:term/0">term</a>()),
                     Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                     Options :: [set_on_spawn | {set_on_spawn, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}],
                     Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>This function spawns a process that applies a fun or an an function,
and then starts profiling for the spawned proceses as well as the
processes in <code class="inline">Rootset</code> (and any new processes spawned from them).</p><p>If <code class="inline">Arg1</code> is a fun, <code class="inline">Arg2</code> is expected to be a trace pattern, and
<code class="inline">Arg3</code> a list of options. In that case, this call is equivalent to:</p><p><a href="#profile/6"><code class="inline">profile(Rootset, erlang, apply, [Arg1, []], Arg2, Arg3)</code></a></p><p>If <code class="inline">Arg1</code> is an atom, <code class="inline">Arg1</code> is assumed to be a module name, <code class="inline">Arg2</code> the
name of the function in that module, and <code class="inline">Arg3</code> a list of arguments to
be used when calling that function. In that case, this call is equivalent
to:</p><p><a href="#profile/6"><code class="inline">profile(Rootset, Arg1, Arg2, Arg3, {'_','_','_'}, [{set_on_spawn, true}])</code></a></p>
  </section>
</section>
<section class="detail" id="profile/5">

  <div class="detail-header">
    <a href="#profile/5" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile(Rootset, Module, Function, Args, Pattern)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L266" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Module, Function, Args, Pattern) -> {ok, Value} | {error, Reason}
                 when
                     Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                     Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
                     Function :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                     Args :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()],
                     Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                     Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#profile/6"><code class="inline">profile(Rootset, Module, Function, Args, Pattern, [{set_on_spawn, true}])</code></a>.</p>
  </section>
</section>
<section class="detail" id="profile/6">

  <div class="detail-header">
    <a href="#profile/6" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile(Rootset, Module, Function, Args, Pattern, Options)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L304" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Module, Function, Args, Pattern, Options) -> {ok, Value} | {error, Reason}
                 when
                     Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                     Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
                     Function :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                     Args :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()],
                     Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                     Options :: [set_on_spawn | {set_on_spawn, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}],
                     Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>This function spawns a process <code class="inline">P</code> that <a href="../../apps/erts/erlang.html#apply/3"><code class="inline">apply(Module, Function, Args)</code></a>, and then starts profiling for <code class="inline">P</code> and the
processes in <code class="inline">Rootset</code> (and any new processes spawned from them).</p><p><code class="inline">Rootset</code> is a list of pids and registered names.</p><p>Information about activity in any profiled process is stored in the Eprof
database.</p><p>If tracing could be enabled for <code class="inline">P</code> and all processes in <code class="inline">Rootset</code>, the function
returns <code class="inline">{ok,Value}</code> when <code class="inline">Fun()</code>/<code class="inline">apply</code> returns with the value <code class="inline">Value</code>, or
<code class="inline">{error,Reason}</code> if <code class="inline">Fun()</code>/<code class="inline">apply</code> fails with exit reason <code class="inline">Reason</code>. Otherwise
it returns <code class="inline">{error, Reason}</code> immediately.</p><p>The <code class="inline">set_on_spawn</code> option will active call time tracing for all processes
spawned by processes in the rootset. This is the default behaviour.</p><p>The programmer must ensure that the function given as argument is truly
synchronous and that no work continues after the function has returned a value.</p>
  </section>
</section>
<section class="detail" id="start/0">

  <div class="detail-header">
    <a href="#start/0" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L90" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start() -> {ok, Pid} | {error, Reason} when Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(), Reason :: {already_started, Pid}.</pre>

      </div>

<p>Starts the Eprof server which holds the internal state of the collected data.</p>
  </section>
</section>
<section class="detail" id="start_profiling/1">

  <div class="detail-header">
    <a href="#start_profiling/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_profiling(Rootset)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L333" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_profiling(Rootset) -> profiling | {error, Reason}
                         when Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()], Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#start_profiling/2"><code class="inline">start_profiling(Rootset, {'_', '_', '_'})</code></a>.</p>
  </section>
</section>
<section class="detail" id="start_profiling/2">

  <div class="detail-header">
    <a href="#start_profiling/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_profiling(Rootset, Pattern)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L343" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_profiling(Rootset, Pattern) -> profiling | {error, Reason}
                         when
                             Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                             Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                             Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#start_profiling/3"><code class="inline">start_profiling(Rootset, Pattern, {'_', '_', '_'})</code></a>.</p>
  </section>
</section>
<section class="detail" id="start_profiling/3">

  <div class="detail-header">
    <a href="#start_profiling/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_profiling(Rootset, Pattern, Options)</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L373" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_profiling(Rootset, Pattern, Options) -> profiling | {error, Reason}
                         when
                             Rootset :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()],
                             Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                             Options :: [set_on_spawn | {set_on_spawn, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}],
                             Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Starts profiling for the processes in <code class="inline">Rootset</code> (and any new processes spawned
from them).</p><p>Information about activity in any profiled process is stored in the
Eprof database.</p><p><code class="inline">Rootset</code> is a list of pids and registered names.</p><p>The function returns <code class="inline">profiling</code> if tracing could be enabled for all processes
in <code class="inline">Rootset</code>, or <code class="inline">error</code> otherwise.</p><p>A pattern can be selected to narrow the profiling. For instance a specific
module can be selected, and only the code executed in that module will be
profiled.</p><p>The <code class="inline">set_on_spawn</code> option will active call time tracing for all processes
spawned by processes in the rootset. This is the default behaviour.</p>
  </section>
</section>
<section class="detail" id="stop/0">

  <div class="detail-header">
    <a href="#stop/0" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L95" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop() -> stopped.</pre>

      </div>

<p>Stops the Eprof server.</p>
  </section>
</section>
<section class="detail" id="stop_profiling/0">

  <div class="detail-header">
    <a href="#stop_profiling/0" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop_profiling()</h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.0/lib/tools/src/eprof.erl#L380" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop_profiling() -> profiling_stopped | profiling_already_stopped.</pre>

      </div>

<p>Stops profiling started with <a href="#start_profiling/1"><code class="inline">start_profiling/1</code></a> or <a href="#profile/1"><code class="inline">profile/1</code></a>.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="tools.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.32.2) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2023 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>

<script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({
      startOnLoad: false,
      theme: document.body.className.includes("dark") ? "dark" : "default"
    });
    let id = 0;
    for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
        graphEl.innerHTML = svg;
        bindFunctions?.(graphEl);
        preEl.insertAdjacentElement("afterend", graphEl);
        preEl.remove();
      });
    }
  });
</script>

  </body>
</html>
